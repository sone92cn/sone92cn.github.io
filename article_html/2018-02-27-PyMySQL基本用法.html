<article><h1>PyMySQL基本用法</h1>
<h2>1、导入库</h2>
<p>$ import pymysql</p>
<h2>2、设置参数</h2>
<p>$ config = {'host':'127.0.0.1','port':3306,'user':'root','password':'zhyea.com','db':'employees','charset':'utf8mb4','cursorclass':pymysql.cursors.DictCursor}</p>
<h2>3、创建连接</h2>
<p>$ conn = pymysql.connect(**config)
$ conn = pymysql.connect(host='127.0.0.1', port=3306, user='root', passwd='', db='tkq1', charset='utf8')</p>
<h2>4、创建游标</h2>
<p>$ cursor = conn.cursor()  普通游标
$ curcor = conn.cursor(cursorclass=pymysql.cursors.DictCursor)  字典游标</p>
<h2>5、执行SQL，并返回收影响行数</h2>
<p>$ effect_row = cursor.execute("select * from tb7;")
$ effect_row = cursor.execute("update tb7 set pass = '123' where nid = %s;", (11,))
$ effect_row = cursor.executemany("insert into tb7(user, pass, licnese) values(%s, %s, %s);", [("u1", "u1pass", "11111"),("u2", "u2pass", "22222")])</p>
<h2>6、提交，不然无法保存新建或者修改的数据</h2>
<p>$ conn.commit()</p>
<h2>7、关闭游标</h2>
<p>$ cursor.close()</p>
<h2>8、关闭连接</h2>
<p>$ conn.close()</p></article>