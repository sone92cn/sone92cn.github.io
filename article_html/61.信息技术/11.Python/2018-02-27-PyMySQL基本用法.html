<article><p><a id="view_head" href="javascript:viewHead('#content_1');">返回</a></p><h1>PyMySQL基本用法</h1>
<h2>1、导入库</h2>
<pre><code>import pymysql
</code></pre>
<h2>2、设置参数</h2>
<pre><code>config = {'host':'127.0.0.1','port':3306,'user':'root','password':'zhyea.com','db':'employees','charset':'utf8mb4','cursorclass':pymysql.cursors.DictCursor}
</code></pre>
<h2>3、创建连接</h2>
<pre><code>conn = pymysql.connect(**config)
conn = pymysql.connect(host='127.0.0.1', port=3306, user='root', passwd='', db='tkq1', charset='utf8')
</code></pre>
<h2>4、创建游标</h2>
<pre><code>cursor = conn.cursor()  普通游标
curcor = conn.cursor(cursorclass=pymysql.cursors.DictCursor)  字典游标
</code></pre>
<h2>5、执行SQL，并返回收影响行数</h2>
<pre><code>effect_row = cursor.execute("select * from tb7;")
effect_row = cursor.execute("update tb7 set pass = '123' where nid = %s;", (11,))
effect_row = cursor.executemany("insert into tb7(user, pass, licnese) values(%s, %s, %s);", [("u1", "u1pass", "11111"),("u2", "u2pass", "22222")])
</code></pre>
<h2>6、提交修改</h2>
<pre><code>conn.commit()
&lt;insert, update需要提交才能生效&gt;
</code></pre>
<h2>7、关闭游标</h2>
<pre><code>cursor.close()
</code></pre>
<h2>8、关闭连接</h2>
<pre><code>conn.close()
</code></pre></article>